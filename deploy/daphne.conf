# Daphne ASGI Server Configuration
# This configuration provides production-ready settings for Daphne ASGI server
# Environment variables can override defaults

# Application ASGI path
ASGI_APPLICATION=core.asgi:application

# Server binding
BIND_HOST=${DAPHNE_BIND_HOST:-0.0.0.0}
BIND_PORT=${DAPHNE_BIND_PORT:-8080}

# Process configuration
# Number of worker processes (default: 4, can be overridden by DAPHNE_WORKERS env var)
WORKERS=${DAPHNE_WORKERS:-4}

# Connection and timeout settings
# Timeout for websocket/SSE connections (in seconds, default: 300 = 5 minutes)
WEBSOCKET_TIMEOUT=${DAPHNE_WEBSOCKET_TIMEOUT:-300}
# HTTP timeout (in seconds, default: 60)
HTTP_TIMEOUT=${DAPHNE_HTTP_TIMEOUT:-60}
# Maximum request body size (in bytes, default: 256MB to match uwsgi buffer-size)
REQUEST_BUFFER_SIZE=${DAPHNE_REQUEST_BUFFER_SIZE:-268435456}

# Logging configuration
# Access log destination (- for stdout)
ACCESS_LOG=${DAPHNE_ACCESS_LOG:--}
# Verbosity level (0=errors only, 1=info, 2=debug)
VERBOSITY=${DAPHNE_VERBOSITY:-1}

# Performance tuning
# Enable proxy headers (X-Forwarded-For, etc.) when behind nginx
PROXY_HEADERS=${DAPHNE_PROXY_HEADERS:-true}

# Application environment
APP_WEBSERVER=daphne

# Worker lifecycle
# Graceful shutdown timeout (seconds)
SHUTDOWN_TIMEOUT=${DAPHNE_SHUTDOWN_TIMEOUT:-3}